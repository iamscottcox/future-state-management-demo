{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/scott.cox/Git/my-app/src/components/Articles/index.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { fetchArticles } from 'src/api/articles';\nimport ArticleFilters from 'src/components/Articles/Filters';\nimport styled from 'styled-components';\nconst StyledArticle = styled.article`\n    display: grid;\n    align-items: center;\n    grid-template: \n        [row1-start] \"name name icons\" 1fr [row1-end]\n        [row2-start] \"strapline strapline icons\" 1fr [row2-end]\n        / 1fr 25px;\n    margin-bottom: 1rem;\n\n    h3 {\n        grid-area: name;\n    }\n\n    p {\n        grid-area: strapline\n    }\n\n    h3, p {\n        margin: 0;\n    }\n\n    .edit-icon {\n        opacity: 0;\n        transition: all ease-in-out 0.2s;\n        grid-area: icons;\n    }\n\n    &:hover {\n        .edit-icon {\n            opacity: 1;\n        }\n    }\n`;\n_c = StyledArticle;\n\nconst EditButton = ({\n  onClick\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"edit-icon\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: onClick,\n      children: \"\\u270F\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 37\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_c2 = EditButton;\n\nconst EditableString = ({\n  value: initialValue,\n  className = ''\n}) => {\n  _s();\n\n  const {\n    0: value,\n    1: setValue\n  } = useState(initialValue);\n  const {\n    0: editing,\n    1: setEditing\n  } = useState(false);\n  const {\n    0: valueBeforeEdits,\n    1: setValueBeforeEdits\n  } = useState(initialValue);\n\n  if (editing === true) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editing\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: value,\n        onChange: e => {\n          setValue(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setEditing(false);\n        },\n        children: \"\\u2705\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setValue(valueBeforeEdits);\n          setEditing(false);\n        },\n        children: \"\\u274C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article-value\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(EditButton, {\n        onClick: () => {\n          setEditing(true);\n          setValueBeforeEdits(value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s(EditableString, \"6W4rkGF6g0CvZxWBZ5mD84aFHuU=\");\n\n_c3 = EditableString;\n\nconst ArticleName = ({\n  name: initialName = ''\n}) => {\n  _s2();\n\n  const {\n    0: name,\n    1: setName\n  } = useState(initialName);\n  const {\n    0: editing,\n    1: setEditing\n  } = useState(false);\n  const {\n    0: nameBeforeEdits,\n    1: setNameBeforeEdits\n  } = useState(initialName);\n\n  if (editing === true) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article-name editing\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: name,\n        onChange: e => {\n          setName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setEditing(false);\n        },\n        children: \"\\u2705\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setName(nameBeforeEdits);\n          setEditing(false);\n        },\n        children: \"\\u274C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article-name\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(EditButton, {\n        onClick: () => {\n          setEditing(true);\n          setNameBeforeEdits(name);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s2(ArticleName, \"1Rmb9FiVzqpGLyakJZ0qKR1la28=\");\n\n_c4 = ArticleName;\nexport const Articles = () => {\n  _s3();\n\n  const {\n    isLoading,\n    isError,\n    data,\n    error\n  } = useQuery('articles', fetchArticles);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 27\n  }, this);\n  if (isError && error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 34\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ArticleFilters, {\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), data === null || data === void 0 ? void 0 : data.map(({\n      name,\n      strapline,\n      id\n    }) => /*#__PURE__*/_jsxDEV(StyledArticle, {\n      children: [/*#__PURE__*/_jsxDEV(ArticleName, {\n        name: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this), strapline && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: strapline\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 35\n      }, this)]\n    }, id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n};\n\n_s3(Articles, \"rCudFd1hiR08fJ2zuPhSG8h1qdE=\", false, function () {\n  return [useQuery];\n});\n\n_c5 = Articles;\nexport default Articles;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"StyledArticle\");\n$RefreshReg$(_c2, \"EditButton\");\n$RefreshReg$(_c3, \"EditableString\");\n$RefreshReg$(_c4, \"ArticleName\");\n$RefreshReg$(_c5, \"Articles\");","map":{"version":3,"sources":["/Users/scott.cox/Git/my-app/src/components/Articles/index.tsx"],"names":["useState","useQuery","fetchArticles","ArticleFilters","styled","StyledArticle","article","EditButton","onClick","EditableString","value","initialValue","className","setValue","editing","setEditing","valueBeforeEdits","setValueBeforeEdits","e","target","ArticleName","name","initialName","setName","nameBeforeEdits","setNameBeforeEdits","Articles","isLoading","isError","data","error","message","map","strapline","id"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { useQuery } from 'react-query';\n\nimport { Article, fetchArticles } from 'src/api/articles';\nimport ArticleFilters from 'src/components/Articles/Filters';\nimport styled from 'styled-components';\n\nconst StyledArticle = styled.article`\n    display: grid;\n    align-items: center;\n    grid-template: \n        [row1-start] \"name name icons\" 1fr [row1-end]\n        [row2-start] \"strapline strapline icons\" 1fr [row2-end]\n        / 1fr 25px;\n    margin-bottom: 1rem;\n\n    h3 {\n        grid-area: name;\n    }\n\n    p {\n        grid-area: strapline\n    }\n\n    h3, p {\n        margin: 0;\n    }\n\n    .edit-icon {\n        opacity: 0;\n        transition: all ease-in-out 0.2s;\n        grid-area: icons;\n    }\n\n    &:hover {\n        .edit-icon {\n            opacity: 1;\n        }\n    }\n`\n\nconst EditButton = ({ onClick }) => {\n    return (\n        <span className=\"edit-icon\"><button type=\"button\" onClick={onClick}>✏️</button></span>\n    )\n}\n\nconst EditableString = ({ value: initialValue, className = '' }) => {\n    const [value, setValue] = useState(initialValue);\n    const [editing, setEditing] = useState(false)\n    const [valueBeforeEdits, setValueBeforeEdits] = useState(initialValue);\n    \n    if (editing === true) {\n        return (\n            <div className=\"editing\">\n                <input value={value} onChange={(e) => { setValue(e.target.value) }}/>\n                <button type=\"button\" onClick={() => { setEditing(false) }}>✅</button>\n                <button type=\"button\" onClick={() => { \n                    setValue(valueBeforeEdits);\n                    setEditing(false);\n                }}>❌</button>\n            </div>\n        )\n    } else {\n        return  (\n            <div className=\"article-value\">\n                <h3>{value}</h3> <EditButton onClick={() => { \n                    setEditing(true);\n                    setValueBeforeEdits(value);\n                }} />\n            </div>\n        )\n    }\n}\n\nconst ArticleName = ({ name: initialName = '' }) => {\n    const [name, setName] = useState(initialName);\n    const [editing, setEditing] = useState(false)\n    const [nameBeforeEdits, setNameBeforeEdits] = useState(initialName);\n    \n    if (editing === true) {\n        return (\n            <div className=\"article-name editing\">\n                <input value={name} onChange={(e) => { setName(e.target.value) }}/>\n                <button type=\"button\" onClick={() => { setEditing(false) }}>✅</button>\n                <button type=\"button\" onClick={() => { \n                    setName(nameBeforeEdits);\n                    setEditing(false);\n                }}>❌</button>\n            </div>\n        )\n    } else {\n        return  (\n            <div className=\"article-name\">\n                <h3>{name}</h3> <EditButton onClick={() => { \n                    setEditing(true);\n                    setNameBeforeEdits(name);\n                }} />\n            </div>\n        )\n    }\n}\n\nexport const Articles = () => {\n    const { isLoading, isError, data, error } = useQuery<Article[], Error>('articles', fetchArticles);\n\n    if (isLoading) return <p>Loading...</p>\n\n    if (isError && error) return <p>Error: {error.message}</p>\n\n    return (\n        <div>\n            <ArticleFilters isLoading={isLoading} />\n            {data?.map(({ name, strapline, id }) => (\n                <StyledArticle key={id}>\n                    <ArticleName name={name} />\n                    {strapline && <p>{strapline}</p>}\n                </StyledArticle>\n            ))}\n        </div>\n    )\n}\n\nexport default Articles;"]},"metadata":{},"sourceType":"module"}